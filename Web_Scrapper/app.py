import streamlit as st
import pandas as pd
from trust_pilot_scraper import TrustPilotScraper

# Streamlit app
st.title("ESILV Webscrapping project")
st.title("TrustPilot Review Scraper")


st.image("assets/tp_logo_new.png",width=300)

# Input URL
url = st.text_input("Enter the full TrustPilot URL to scrape reviews from:",
                    help="Enter the URL of the TrustPilot page to scrape reviews from e.g.https://uk.trustpilot.com/review/www.tesco.com")

# Input number of pages
num_pages = st.number_input("Enter the number of pages to scrape:", value=1, min_value=1, step=1,
                            help="Note - this is limited to a maximum of twenty five pages to prevent misuse")

if num_pages > 25:
    num_pages = 25

if st.button("Scrape Reviews"):
    if url:
        # Initialize the TrustPilot scraper
        scraper = TrustPilotScraper(url, num_pages)

        # Scrape reviews and transform into a dataframe
        scraped_reviews = scraper.run()

        if isinstance(scraped_reviews, pd.DataFrame):
            # Display scraped reviews
            st.write("Scraped Reviews:")
            st.dataframe(scraped_reviews)
            st.download_button("Download CSV", data=scraped_reviews.to_csv(), file_name="scraped_reviews.csv")

        else:
            st.write("No reviews scraped.")
            
st.text("Submitted by SAINI & RAWLA")
st.image("data:image/png;base64,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", width = 150)